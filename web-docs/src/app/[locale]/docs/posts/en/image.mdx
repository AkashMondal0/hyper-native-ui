---
title: "Image"
publishedAt: "2024-12-30"
# image: "/images/gallery/img-02.jpg"
summary: "Open a Terminal in your project's folder and run"
tag: "Android IOS Web"
---

The `Image` component is a highly customizable image-based component designed for React Native applications. It supports a variety of features, including loading states, error handling, border styling, and touchable interactions.

Import Component

<CodeBlock className="my-24"
    compact
    codeInstances={[
        {
            code: `import { Image } from 'hyper-native-ui';`,
            label: 'React Native',
            language: 'jsx'
        },
    ]}
    copyButton
/>
Usage Component

<CodeBlock className="my-24"
    compact
    codeInstances={[
        {
            code: `<Image
				src="https://example.com/image.jpg"
				size={80}
				borderWidth={2}
				borderVariant="secondary"
			/>`,
            label: 'React Native',
            language: 'jsx'
        },
    ]}
    copyButton
/>
---
### **Expo Example Usage:**
<div 
data-snack-id="@akashmondal0/image-hyper-native-ui" 
data-snack-platform="web" 
data-snack-preview="true" 
data-snack-theme="dark" 
style={{
  "overflow":"hidden",
  "background":"#0C0D0E",
  "border":"1px solid var(--color-border)",
  "borderRadius":"4px",
  "height":"505px",
  "width":"100%"
}}></div>
<script async src="https://snack.expo.dev/embed.js"></script>

## Props

The component accepts the following props:

### Required Props

- **`src`** (`string | null | undefined`):
  The URL of the image to be displayed. If not provided or invalid, the component falls back to an error state or placeholder.

- **`size`** (`number`):
  The size of the Image in pixels.

### Optional Props

- **`showImageError`** (`boolean`):
  Whether to display an error message when the image fails to load. Defaults to `false`.

- **`blurUrl`** (`string | null | undefined`):
  Placeholder or blurred version of the image while the main image is loading.

- **`isTouchableOpacity`** (`boolean`):
  Determines if the component is wrapped in a `TouchableOpacity` for interaction. Defaults to `false`.

- **`touchableOpacityProps`** (`TouchableOpacityProps`):
  Additional props passed to the `TouchableOpacity` wrapper.

- **`activityIndicatorProps`** (`ActivityIndicatorProps`):
  Additional props passed to the `ActivityIndicator` shown during the loading state.

- **`isActivityIndicator`** (`boolean`):
  Whether to show a loading spinner while the image is loading. Defaults to `true`.

- **`borderVariant`** (`componentVariant`):
  Specifies the color variant for the border. Defaults to `"default"`.

- **`borderWidth`** (`number`):
  Thickness of the border around the Image. Defaults to `0`.

- **`borderStyle`** (`TouchableOpacityProps["style"]`):
  Custom styles for the border.

- **`onPress`** (`() => void`):
  Callback function triggered when the Image is pressed.

- **`onLongPress`** (`() => void`):
  Callback function triggered when the Image is long-pressed.

- **`themeScheme`** (`"light" | "dark"`):
  Overrides the current theme scheme. Defaults to the app's current theme scheme.

- **`...otherProps`** (`ImageProps`):
  Additional props passed to the underlying `Image` component.

## Behavior

1. **Loading States:**
   - Displays an `ActivityIndicator` spinner while the image is loading (if `isActivityIndicator` is `true`).
   - Automatically transitions to "normal" state once the image is fully loaded.

2. **Error Handling:**
   - If the image fails to load, the component transitions to the "error" state.
   - Displays a fallback view with an error message if `showImageError` is `true`.

3. **Border Styling:**
   - The border color and style are determined by the `borderVariant` and `borderWidth` props.
   - Supports theme-based variants from `themeColors`.

4. **Touchable Interactions:**
   - When `isTouchableOpacity` is `true`, the component becomes pressable and can trigger `onPress` or `onLongPress` callbacks.

### Basic Image
<CodeBlock className="my-24"
    compact
    codeInstances={[
        {
            code: `import React from 'react';
import { StyleSheet, View } from 'react-native';
import Image from './Image';

const App = () => (
    <View style={styles.container}>
        <Image
            src="https://example.com/image.jpg"
            size={80}
            borderWidth={2}
            borderVariant="secondary"
        />
    </View>
);

const styles = StyleSheet.create({
    container: {
        flex: 1,
        justifyContent: 'center',
        alignItems: 'center',
    },
});

export default App;`,
            label: 'React Native',
            language: 'jsx'
        },
    ]}
    copyButton
/>

### Image with Error Handling
<CodeBlock className="my-24"
    compact
    codeInstances={[
        {
            code: `<Image
    src={null}
    showImageError={true}
    size={100}
    borderWidth={3}
    borderVariant="default"
/>`,
            label: 'React Native',
            language: 'jsx'
        },
    ]}
    copyButton
/>


### Interactive Image
<CodeBlock className="my-24"
    compact
    codeInstances={[
        {
            code: `<Image
    src="https://example.com/image.jpg"
    size={60}
    isTouchableOpacity={true}
    onPress={() => alert('Image pressed!')}
    touchableOpacityProps={{ activeOpacity: 0.7 }}
/>`,
            label: 'React Native',
            language: 'jsx'
        },
    ]}
    copyButton
/>

## Component Code

<CodeBlock className="my-24"
    compact
    codeInstances={[
        {
            code: `import React from 'react';
import { useState } from 'react';
import {
    Image as RNImage,
    ImageProps,
    Text,
    TouchableOpacity,
    View,
    TouchableOpacityProps,
    ActivityIndicator,
    ActivityIndicatorProps
} from 'react-native';
import { componentVariant, themeColors } from '../constants/Colors';
import useTheme from '../hooks/useTheme';

export type Props = ImageProps & {
    src: string | null | undefined;
    showImageError?: boolean;
    blurUrl?: string | null | undefined;
    source?: undefined;
    isTouchableOpacity?: boolean;
    touchableOpacityProps?: TouchableOpacityProps
    activityIndicatorProps?: ActivityIndicatorProps
    isActivityIndicator?: boolean;
    borderVariant?: componentVariant;
    borderWidth?: number;
    borderStyle?: TouchableOpacityProps["style"];
    onPress?: () => void;
    onLongPress?: () => void;
    size: number;
    themeScheme?: "light" | "dark";
};

const Image = ({
    style,
    src,
    themeScheme,
    isTouchableOpacity = false,
    touchableOpacityProps,
    activityIndicatorProps,
    isActivityIndicator = true,
    showImageError = false,
    blurUrl,
    borderWidth = 0,
    borderVariant = "default",
    onPress,
    onLongPress,
    size = 60,
    ...otherProps }: Props) => {
    const { currentTheme, themeScheme: defaultThemeScheme } = useTheme();
    const [state, setState] = useState<"idle" | "pending" | "normal" | "error">("idle");
    borderWidth = borderWidth > 0 ? borderWidth : 0

    const colorVariant = () => {
        switch (borderVariant) {
            case "secondary":
                return {
                    isFocused: currentTheme.primary
                }
            case "default":
                return {
                    isFocused: currentTheme.primary
                }
            default:
                const theme = themeColors.find((theme) => theme.name === borderVariant)![themeScheme ?? defaultThemeScheme]
                if (theme) {
                    return {
                        isFocused: theme.primary
                    }
                }
                return {
                    isFocused: currentTheme.primary
                }

        }
    }

    if (state === "error" && showImageError || !src) {
        return (
            <View
                style={{
                    width: otherProps.width ?? "100%",
                    height: otherProps.height ?? "auto",
                    borderRadius: 1000,
                    backgroundColor: currentTheme?.muted,
                    borderWidth: borderWidth > 0 ? borderWidth : 0,
                    justifyContent: "center",
                    alignItems: "center",
                }}>
                <TouchableOpacity activeOpacity={0.6}
                    style={{
                        width: "100%",
                        height: "100%",
                        justifyContent: "center",
                        alignItems: "center",
                    }}>
                    {/* <RotateCcw color={currentTheme?.foreground} size={40} strokeWidth={0.8} /> */}
                    <Text style={{
                        color: currentTheme?.muted_foreground,
                        fontSize: 16,
                        textAlign: "center",
                    }}>
                        Failed to load image
                    </Text>
                </TouchableOpacity>
            </View>
        )
    }

    const ImageComponent = () => {
        return (<RNImage
            source={{ uri: src }}
            fadeDuration={150}
            borderRadius={1000}
            width={size}
            height={size}
            resizeMode="cover"
            onError={() => {
                if (state === "error") return;
                setState("error")
            }}
            onLoadEnd={() => {
                if (state === "normal") return;
                setState("normal")
            }}
            {...otherProps} />)
    }

    return (
        <>
            <TouchableOpacity
                {...touchableOpacityProps}
                onPress={onPress}
                onLongPress={onLongPress}
                style={{
                    justifyContent: "center",
                    alignItems: "center",
                    borderWidth: borderWidth,
                    borderColor: colorVariant().isFocused,
                    borderRadius: 1000,
                    padding: 2,
                    aspectRatio: 1 / 1,
                    width: size + 10
                }}
                activeOpacity={isTouchableOpacity ? touchableOpacityProps?.activeOpacity ?? 0.5 : 1}>
                <View style={{
                    position: "absolute",
                    justifyContent: "center",
                    alignItems: "center",
                    zIndex: 1,
                    width: "100%",
                    height: "100%",
                    display: isActivityIndicator ? state === "normal" ? "none" : "flex" : "none",
                }}>
                    <ActivityIndicator color={currentTheme.primary} size={40} {...activityIndicatorProps} />
                </View>
                <ImageComponent />
            </TouchableOpacity>
        </>
    )
}

export default Image`,
            label: 'React Native',
            language: 'jsx'
        },
    ]}
    copyButton
/>

## Notes

- Ensure `src` is a valid image URL for optimal behavior.
- Use `borderVariant` to match the component's appearance to your theme.
- Customize loading and error states as needed using `isActivityIndicator` and `showImageError`.

## Extending the Component

You can extend the `Image` component by adding custom border variants or modifying the loading and error states to fit your application's design requirements.